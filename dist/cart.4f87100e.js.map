{"mappings":"AAEA,MAAMA,EAAaC,SAASC,eAAe,YACrCC,EAAeF,SAASC,eAAe,cAE7C,IAAIE,EAAWC,aAuDNA,IACP,IAAIC,EAAoB,IAAKC,cACzBC,EAAkB,GAEtB,IAAK,IAAIC,KAAOH,EACTI,MAAMD,IACTD,EAAgBG,KAAKC,KAAKC,MAAMP,EAAkBG,KAGtD,OAAOD,EA9DY,sBCNPM,EAAUC,GACpBC,KAAKF,SAAWA,EAChBE,KAAKD,GAAKA,EAGZE,SAASC,GACP,OAAOA,EACJC,KAAKC,GACE,qIAIYA,EAAKC,8LAIUD,EAAKE,4DACCF,EAAKG,0FAEbH,EAAKI,wFACTJ,EAAKI,OAAOJ,EAAKK,oDACbL,EAAKI,gKAGLJ,EAAKI,mLAQrCE,KAAK,IAGVC,OAAOT,GACLF,KAAKF,SAASc,UAAYZ,KAAKC,SAASC,GACxCF,KAAKD,OD/B+Bf,GAAU,KAChD,MAAM6B,EAAgB5B,SAAS6B,iBAAiB,gBAC1CC,EAAgB9B,SAAS6B,iBAAiB,gBAC1CE,EAAkB/B,SAAS6B,iBAAiB,kBAElDD,EAAcI,SAASC,IAErBA,EAAiBC,iBAAiB,SAAUC,IAC1C,MAAMC,EAAUhC,IAA4BiC,MAAMC,GACzCA,EAAEf,IAAMY,EAAEI,OAAOC,QAAQjB,KAElCa,EAAQZ,KAAO,EACfY,EAAQK,WAAaL,EAAQd,MAAQc,EAAQZ,IAC7ClB,aAAaoC,QAAQN,EAAQb,GAAIZ,KAAKgC,UAAUP,IAClCpC,SAASC,eAAc,MAAOkC,EAAEI,OAAOC,QAAQjB,MACvDI,UAAYS,EAAQZ,IAC1BoB,EAAWjB,UAAYkB,IAAWC,QAAQ,GAC1C5C,EAAayB,WAA0B,IAAbkB,KAAkBC,QAAQ,SAIxDhB,EAAcE,SAASe,IAErBA,EAAiBb,iBAAiB,SAAUC,IAC1C,MAAMC,EAAUhC,IAA4BiC,MAAMC,GACzCA,EAAEf,IAAMY,EAAEI,OAAOC,QAAQjB,KAElCa,EAAQZ,IAAM,EAAKY,EAAQZ,IAAM,EAAMY,EAAQZ,KAAO,EACtDY,EAAQK,WAAaL,EAAQd,MAAQc,EAAQZ,IAC7ClB,aAAaoC,QAAQN,EAAQb,GAAIZ,KAAKgC,UAAUP,IAClCpC,SAASC,eAAc,MAAOkC,EAAEI,OAAOC,QAAQjB,MACvDI,UAAYS,EAAQZ,IAC1BoB,EAAWjB,UAAYkB,IAAWC,QAAQ,GAC1C5C,EAAayB,WAA0B,IAAbkB,KAAkBC,QAAQ,SAIxDf,EAAgBC,SAASgB,IAEvBA,EAAmBd,iBAAiB,SAAUC,IAC5C7B,aAAa2C,WAAWd,EAAEI,OAAOC,QAAQjB,IAEvCY,EAAEI,OAAOW,cAAcA,cAAcA,cAAcA,cAChDA,cACGC,SACRP,EAAWjB,UAAYkB,IAAWC,QAAQ,GAC1C5C,EAAayB,WAA0B,IAAbkB,KAAkBC,QAAQ,YAK7CpB,OAAOvB,GAgBpB,MAAMiD,EAAapD,SAASC,eAAe,YACrCoD,EAAiBrD,SAASC,eAAe,gBACzCqD,EAAStD,SAASC,eAAe,QACjC2C,EAAa5C,SAASC,eAAe,YAErCsD,EAAI,IAAIC,cAILX,IACP,IAAIJ,EAAa,EACjB,IAAK,IAAIL,KAAWhC,IAClBqC,GAAcL,EAAQK,WAExB,OAAOA,EAPTa,EAAO3B,UAAS,GAAM4B,EAAEE,cAAcF,EAAEG,gBAAgBH,EAAEI,gBAU1DP,EAAWlB,iBAAiB,SAAO,KACjCU,EAAWjB,UAAYkB,IAAWC,QAAQ,GAC1C5C,EAAayB,WAA0B,IAAbkB,KAAkBC,QAAQ,GACpDO,EAAeO,UAAUC,QAAQ,SAAU","sources":["src/views/cart.js","src/components/ProductsInCart.js"],"sourcesContent":["import ProductsInCart from \"../components/ProductsInCart.js\";\r\n\r\nconst userCartID = document.getElementById(\"userCart\");\r\nconst totalPriceID = document.getElementById(\"totalPrice\");\r\n\r\nlet products = getProductsInLocalstorage();\r\n\r\nconst userCartHTML = new ProductsInCart(userCartID, () => {\r\n  const increaseQTYID = document.querySelectorAll(\".increaseQTY\");\r\n  const decreaseQTYID = document.querySelectorAll(\".decreaseQTY\");\r\n  const removeProductID = document.querySelectorAll(\".removeProduct\");\r\n\r\n  increaseQTYID.forEach((increaseQTYIDBTN) => {\r\n    // **************** increase QTY BTN ************************\r\n    increaseQTYIDBTN.addEventListener(\"click\", (e) => {\r\n      const product = getProductsInLocalstorage().find((p) => {\r\n        return p.id == e.target.dataset.id;\r\n      });\r\n      product.QTY += 1;\r\n      product.totalPrice = product.price * product.QTY;\r\n      localStorage.setItem(product.id, JSON.stringify(product));\r\n      const qtyID = document.getElementById(`qty${e.target.dataset.id}`);\r\n      qtyID.innerHTML = product.QTY;\r\n      subTotalID.innerHTML = getTotal().toFixed(2);\r\n      totalPriceID.innerHTML = (getTotal() * 1.4).toFixed(2);\r\n    });\r\n  });\r\n\r\n  decreaseQTYID.forEach((decreaseQTYIDBTN) => {\r\n    // **************** decrease QTY BTN ************************\r\n    decreaseQTYIDBTN.addEventListener(\"click\", (e) => {\r\n      const product = getProductsInLocalstorage().find((p) => {\r\n        return p.id == e.target.dataset.id;\r\n      });\r\n      product.QTY < 2 ? (product.QTY = 1) : (product.QTY -= 1);\r\n      product.totalPrice = product.price * product.QTY;\r\n      localStorage.setItem(product.id, JSON.stringify(product));\r\n      const qtyID = document.getElementById(`qty${e.target.dataset.id}`);\r\n      qtyID.innerHTML = product.QTY;\r\n      subTotalID.innerHTML = getTotal().toFixed(2);\r\n      totalPriceID.innerHTML = (getTotal() * 1.4).toFixed(2);\r\n    });\r\n  });\r\n\r\n  removeProductID.forEach((removeProductIDBTN) => {\r\n    // **************** remove from cart BTN ************************\r\n    removeProductIDBTN.addEventListener(\"click\", (e) => {\r\n      localStorage.removeItem(e.target.dataset.id);\r\n      const removed =\r\n        e.target.parentElement.parentElement.parentElement.parentElement\r\n          .parentElement;\r\n      removed.remove();\r\n      subTotalID.innerHTML = getTotal().toFixed(2);\r\n      totalPriceID.innerHTML = (getTotal() * 1.4).toFixed(2);\r\n    });\r\n  });\r\n});\r\n\r\nuserCartHTML.render(products);\r\n\r\nfunction getProductsInLocalstorage() {\r\n  let productsInStorage = { ...localStorage };\r\n  let arrayOfProducts = [];\r\n\r\n  for (let key in productsInStorage) {\r\n    if (!isNaN(key)) {\r\n      arrayOfProducts.push(JSON.parse(productsInStorage[key]));\r\n    }\r\n  }\r\n  return arrayOfProducts;\r\n}\r\n\r\n// //////////////////////////////////////\r\n\r\nconst checkOutID = document.getElementById(\"checkOut\");\r\nconst displayBlockID = document.getElementById(\"displayBlock\");\r\nconst dateID = document.getElementById(\"date\");\r\nconst subTotalID = document.getElementById(\"subTotal\");\r\n\r\nconst d = new Date();\r\n\r\ndateID.innerHTML = `${d.getDay()} - ${d.getMonth()} - ${d.getFullYear()}`;\r\n\r\nfunction getTotal() {\r\n  let totalPrice = 0;\r\n  for (let product of getProductsInLocalstorage()) {\r\n    totalPrice += product.totalPrice;\r\n  }\r\n  return totalPrice;\r\n}\r\n\r\ncheckOutID.addEventListener(\"click\", () => {\r\n  subTotalID.innerHTML = getTotal().toFixed(2);\r\n  totalPriceID.innerHTML = (getTotal() * 1.4).toFixed(2);\r\n  displayBlockID.classList.replace(\"d-none\", \"d-block\");\r\n});\r\n","export default class ProductsInCart {\r\n  constructor(selector, cb) {\r\n    this.selector = selector;\r\n    this.cb = cb;\r\n  }\r\n\r\n  template(data) {\r\n    return data\r\n      .map((item) => {\r\n        return `\r\n          <div class=\"card mb-3\">\r\n          <div class=\"row g-0\">\r\n            <div class=\"col-md-4\">\r\n              <img src=\"${item.image}\" class=\"img-fluid rounded-start\" alt=\"...\" />\r\n            </div>\r\n            <div class=\"col-md-8\">\r\n              <div class=\"card-body\">\r\n                <h5 class=\"card-title\">${item.title}</h5>\r\n                <p class=\"card-text\">Price: $${item.price}</p>\r\n                <div class=\"d-block\">\r\n                    <button data-id=\"${item.id}\" class=\"btn btn-primary decreaseQTY\">-</button>\r\n                    <span id=\"qty${item.id}\">${item.QTY}</span>\r\n                    <button data-id=\"${item.id}\" class=\"btn btn-primary increaseQTY\">+</button>\r\n                </div>\r\n                <div class=\"d-block mt-3\">\r\n                    <button data-id=\"${item.id}\" class=\"btn btn-danger removeProduct\">Remove</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n                `;\r\n      })\r\n      .join(\"\");\r\n  }\r\n\r\n  render(data) {\r\n    this.selector.innerHTML = this.template(data);\r\n    this.cb();\r\n  }\r\n}\r\n"],"names":["$262d88c87cd2125a$var$userCartID","document","getElementById","$262d88c87cd2125a$var$totalPriceID","$262d88c87cd2125a$var$products","$262d88c87cd2125a$var$getProductsInLocalstorage","productsInStorage","localStorage","arrayOfProducts","key","isNaN","push","JSON","parse","selector","cb","this","template","data","map","item","image","title","price","id","QTY","join","render","innerHTML","increaseQTYID","querySelectorAll","decreaseQTYID","removeProductID","forEach","increaseQTYIDBTN","addEventListener","e","product","find","p","target","dataset","totalPrice","setItem","stringify","$262d88c87cd2125a$var$subTotalID","$262d88c87cd2125a$var$getTotal","toFixed","decreaseQTYIDBTN","removeProductIDBTN","removeItem","parentElement","remove","$262d88c87cd2125a$var$checkOutID","$262d88c87cd2125a$var$displayBlockID","$262d88c87cd2125a$var$dateID","$262d88c87cd2125a$var$d","Date","getDay","getMonth","getFullYear","classList","replace"],"version":3,"file":"cart.4f87100e.js.map"}