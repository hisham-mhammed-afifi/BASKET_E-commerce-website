{"mappings":"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","sources":["src/components/AllProducts.js","src/views/index.js","src/apis/Apis.js","src/apis/ProductApi.js","src/components/AllCategories.js","src/components/Pagination.js"],"sourcesContent":["export default class AllProducts {\r\n  constructor(selector) {\r\n    this.selector = selector;\r\n  }\r\n\r\n  template(data) {\r\n    return data\r\n      .map((item) => {\r\n        return `\r\n        <div class=\"col mb-3\">\r\n          <div class=\"card h-100 shadow\">\r\n            <img src=\"${\r\n              item.image\r\n            }\" style=\"max-height: 150px\" class=\"card-img-top\"/>\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title fw-bold\">${item.title}</h5>\r\n              <h5 class=\"card-title mb-5\">$ ${item.price}</h5>\r\n              <button class=\"btn btn-link position-absolute bottom-0 start-0\" data-bs-toggle=\"collapse\" data-bs-target=\"#id${\r\n                item.id\r\n              }\" aria-expanded=\"false\" aria-controls=\"collapseOne\">\r\n              <i class=\"fas fa-eye\"></i>\r\n              </button>\r\n              <button data-id=\"${\r\n                item.id\r\n              }\" class=\"btn btn-info position-absolute bottom-0 end-0 addProductToCart\">\r\n              <i class=\"fas fa-shopping-cart\"></i>\r\n                ADD TO CART\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div id=\"id${\r\n          item.id\r\n        }\" class=\"w-100 accordion-collapse collapse\" data-bs-parent=\"#accordionExample\">\r\n          <div class=\"card mb-3\">\r\n            <div class=\"row g-0\">\r\n              <div class=\"col-md-4\">\r\n                <img src=\"${item.image}\" class=\"img-fluid rounded-start\"/>\r\n              </div>\r\n              <div class=\"col-md-8\">\r\n                <div class=\"card-body\">\r\n                  <h5 class=\"card-title fw-bolder\">${item.title}</h5>\r\n                  <h5 class=\"card-title\">Category: ${item.category}</h5>\r\n                  <h5 class=\"card-title\">$ ${item.price}</h5>\r\n                  <p class=\"card-text mt-3\">${item.description}</p>\r\n                  <h5 class=\"card-title text-warning\">\r\n                  ${[...Array(Math.floor(item.rating.rate)).keys()]\r\n                    .map((n) => {\r\n                      return `<i class=\"fas fa-star\"></i>`;\r\n                    })\r\n                    .join(\"\")}<i class=\"fas fa-star-half\"></i>\r\n                  </h5>\r\n                  <h5 class=\"card-title\">Rated ${item.rating.count} times</h5>\r\n                  <p class=\"card-text\">\r\n                    <small class=\"text-muted\">Last updated 3 mins ago</small>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n            `;\r\n      })\r\n      .join(\"\");\r\n  }\r\n\r\n  render(data) {\r\n    this.selector.innerHTML = this.template(data);\r\n  }\r\n}\r\n","import ProductApi from \"../apis/ProductApi.js\";\r\nimport AllProducts from \"../components/AllProducts.js\";\r\nimport AllCategories from \"../components/AllCategories.js\";\r\nimport Pagination from \"../components/Pagination.js\";\r\n\r\n//  ---   APIs   ---\r\nconst productApi = new ProductApi();\r\nlet products = await productApi.getAll();\r\nconst categories = await productApi.getCategories();\r\n\r\n// ---   selectors   ---\r\nconst allProductsID = document.getElementById(\"allProducts\");\r\nconst allCategoriesID = document.getElementById(\"allCategories\");\r\n\r\n//    ---   view products in HTML   ---\r\nconst paginateProducts = paginate(products, 8, 1);\r\nconst allProductsHTML = new AllProducts(allProductsID);\r\nallProductsHTML.render(paginateProducts);\r\n\r\nlet filteredProducts = [...products];\r\n\r\nconst allCategoriesHTML = new AllCategories(allCategoriesID, () => {\r\n  const filterByCategoryCLASS = document.querySelectorAll(\".filterByCategory\");\r\n\r\n  filterByCategoryCLASS.forEach((cat) => {\r\n    cat.addEventListener(\"click\", (e) => {\r\n      filterByCategoryCLASS.forEach((c) => {\r\n        c.classList.remove(\"active\");\r\n      });\r\n      e.target.classList.add(\"active\");\r\n      filteredProducts = [...products];\r\n      if (e.target.dataset.value) {\r\n        filteredProducts = filteredProducts.filter((p) => {\r\n          return p.category == e.target.dataset.value;\r\n        });\r\n      }\r\n\r\n      const filteredProductsHTML = new AllProducts(allProductsID);\r\n      filteredProductsHTML.render(paginate(filteredProducts, 8, 1));\r\n    });\r\n  });\r\n});\r\nallCategoriesHTML.render(categories);\r\n\r\n// *** *** *** filter by price change *** *** ***\r\n\r\nconst priceValueID = document.getElementById(\"priceValue\");\r\nconst filterByPriceRangeID = document.getElementById(\"filterByPriceRange\");\r\nfilterByPriceRangeID.addEventListener(\"input\", filterByPriceRange);\r\n\r\nfunction filterByPriceRange(e) {\r\n  filteredProducts = [...products];\r\n  filteredProducts = filteredProducts.filter((p) => {\r\n    return p.price <= e.target.value;\r\n  });\r\n\r\n  priceValueID.innerHTML = e.target.value;\r\n\r\n  const filteredProductsHTML = new AllProducts(allProductsID);\r\n  filteredProductsHTML.render(filteredProducts);\r\n}\r\n// ---------------------------------------------------------------------------\r\n// ------------------------   Pagination function   --------------------------\r\n// ---------------------------------------------------------------------------\r\n\r\nconst paginationID = document.getElementById(\"pagination\");\r\nlet pageNumbers = [...Array(Math.round(products.length / 8)).keys()].map(\r\n  (n) => n + 1\r\n);\r\n\r\nconst paginatedProductsHTML = new Pagination(paginationID);\r\n\r\npaginatedProductsHTML.render(pageNumbers);\r\n\r\nArray.from(paginationID.children).forEach((pageBtn) => {\r\n  pageBtn.addEventListener(\"click\", () => {\r\n    const paginateProducts = paginate(\r\n      products,\r\n      8,\r\n      pageBtn.children[0].innerHTML\r\n    );\r\n\r\n    const filteredProductsHTML = new AllProducts(allProductsID);\r\n    filteredProductsHTML.render(paginateProducts);\r\n  });\r\n});\r\n\r\nfunction paginate(products, productsPerPage, pageNum) {\r\n  const idx = (pageNum - 1) * productsPerPage;\r\n  return products.slice(idx, idx + productsPerPage);\r\n}\r\n\r\n// ---------------------------------------------------------------------------\r\n// ------------------------   search section   --------------------------\r\n// ---------------------------------------------------------------------------\r\n\r\nconst searchProductID = document.getElementById(\"searchProduct\");\r\n\r\nsearchProductID.addEventListener(\"input\", searchForProduct);\r\n\r\nfunction searchForProduct(e) {\r\n  const searchInput = e.target.value;\r\n  let filteredBySearch = [...paginate(filteredProducts, 8, 1)];\r\n  filteredBySearch = filteredBySearch.filter((p) => {\r\n    return p.title.toLowerCase().includes(searchInput);\r\n  });\r\n\r\n  const filteredProductsHTML = new AllProducts(allProductsID);\r\n  filteredProductsHTML.render(filteredBySearch);\r\n}\r\n\r\n// ====================== add Product to cart ========================\r\n\r\nconst addProductToCartID = document.querySelectorAll(\".addProductToCart\");\r\n\r\naddProductToCartID.forEach((addBtn) => {\r\n  addBtn.addEventListener(\"click\", (e) => {\r\n    let productToAdd = [...products];\r\n    productToAdd = productToAdd.find((p) => {\r\n      return p.id == e.target.dataset.id;\r\n    });\r\n\r\n    productToAdd.QTY = 1;\r\n    productToAdd.totalPrice = productToAdd.price * productToAdd.QTY;\r\n\r\n    localStorage.setItem(e.target.dataset.id, JSON.stringify(productToAdd));\r\n  });\r\n});\r\n\r\n// >>>>>>>>>>>>>>>>>>>   login BTN    <<<<<<<<<<<<<<<<<<<<<<<<<<<\r\n\r\nconst loginBtnID = document.getElementById(\"loginBtn\");\r\nlet userEmail = sessionStorage.getItem(\"logedIn\");\r\nif (userEmail) {\r\n  loginBtnID.innerHTML = `<i class=\"fas fa-user-alt\"></i> ${userEmail}`;\r\n  // id(\"logout\").innerHTML = `LOGOUT`;\r\n  // id(\"logout\").onclick = function () {\r\n  //   sessionStorage.removeItem(\"logedIn\");\r\n  //   location.reload();\r\n  // };\r\n}\r\n","export default class Api {\r\n  constructor(model) {\r\n    this.url = `https://fakestoreapi.com/${model}`;\r\n  }\r\n  getAll = async () => {\r\n    const res = await fetch(this.url);\r\n    return await res.json();\r\n  };\r\n\r\n  getOne = async (id) => {\r\n    const res = await fetch(`${this.url}/${id}`);\r\n    return await res.json();\r\n  };\r\n  getLimit = async (limit) => {\r\n    const res = await fetch(`${this.url}?limit=${limit}`);\r\n    return await res.json();\r\n  };\r\n  sort = async (type) => {\r\n    const res = await fetch(`${this.url}?sort=${type}`);\r\n    return await res.json();\r\n  };\r\n  add = async (data) => {\r\n    const res = await fetch(this.url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    return await res.json();\r\n  };\r\n  update = async (id, data) => {\r\n    const res = await fetch(`${this.url}/${id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    return await res.json();\r\n  };\r\n  remove = async (id) => {\r\n    const res = await fetch(`${this.url}/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n    return await res.json();\r\n  };\r\n}\r\n","import Api from \"./Apis.js\";\r\n\r\nexport default class ProductApi extends Api {\r\n  constructor() {\r\n    super(\"products\");\r\n  }\r\n\r\n  getCategories = async () => {\r\n    const res = await fetch(`${this.url}/categories`);\r\n    return await res.json();\r\n  };\r\n  getCategoryProducts = async (category) => {\r\n    const res = await fetch(`${this.url}/category/${category}`);\r\n    return await res.json();\r\n  };\r\n}\r\n","export default class AllCategories {\r\n  constructor(selector, cb) {\r\n    this.selector = selector;\r\n    this.cb = cb;\r\n  }\r\n\r\n  template(data) {\r\n    return `<a data-value=\"\" class=\"filterByCategory flex-sm-fill text-sm-center nav-link active\" aria-current=\"page\">All</a>\r\n    ${data\r\n      .map((item) => {\r\n        return `<a data-value=\"${item}\" class=\"filterByCategory flex-sm-fill text-sm-center nav-link\" aria-current=\"page\">${item}</a>`;\r\n      })\r\n      .join(\"\")}\r\n    `;\r\n  }\r\n\r\n  render(data) {\r\n    this.selector.innerHTML = this.template(data);\r\n    this.cb();\r\n  }\r\n}\r\n","export default class Pagination {\r\n  constructor(selector) {\r\n    this.selector = selector;\r\n  }\r\n\r\n  template(data) {\r\n    return data\r\n      .map((item) => {\r\n        return `\r\n          <li class=\"page-item active\" aria-current=\"page\">\r\n            <span class=\"page-link\">${item}</span>\r\n          </li>\r\n                `;\r\n      })\r\n      .join(\"\");\r\n  }\r\n\r\n  render(data) {\r\n    this.selector.innerHTML = this.template(data);\r\n  }\r\n}\r\n"],"names":["selector","this","template","data","map","item","image","title","price","id","category","description","Array","Math","floor","rating","rate","keys","n","join","count","render","innerHTML","$42b85c77c42ebf54$var$productApi","model","url","getAll","async","res","fetch","json","getOne","getLimit","limit","sort","type","add","method","headers","body","JSON","stringify","update","remove","super","getCategories","getCategoryProducts","$42b85c77c42ebf54$var$products","$42b85c77c42ebf54$var$categories","$42b85c77c42ebf54$var$allProductsID","document","getElementById","$42b85c77c42ebf54$var$allCategoriesID","$42b85c77c42ebf54$var$paginateProducts","$42b85c77c42ebf54$var$paginate","$7166ed43c8302866$export$2e2bcd8739ae039","$42b85c77c42ebf54$var$filteredProducts","cb","filterByCategoryCLASS","querySelectorAll","forEach","cat","addEventListener","e","c","classList","target","dataset","value","filter","p","$42b85c77c42ebf54$var$priceValueID","$42b85c77c42ebf54$var$paginationID","$42b85c77c42ebf54$var$pageNumbers","round","length","products","productsPerPage","pageNum","idx","slice","from","children","pageBtn","paginateProducts","searchInput","filteredBySearch","toLowerCase","includes","addBtn","productToAdd","find","QTY","totalPrice","localStorage","setItem","$42b85c77c42ebf54$var$loginBtnID","$42b85c77c42ebf54$var$userEmail","sessionStorage","getItem"],"version":3,"file":"index.bc3e787c.js.map"}