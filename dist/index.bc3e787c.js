class t{constructor(t){this.selector=t}template(t){return t.map((t=>`\n        <div class="col mb-3">\n          <div class="card h-100 shadow">\n            <img src="${t.image}" style="max-height: 150px" class="card-img-top"/>\n            <div class="card-body">\n              <h5 class="card-title fw-bold">${t.title}</h5>\n              <h5 class="card-title mb-5">$ ${t.price}</h5>\n              <button class="btn btn-link position-absolute bottom-0 start-0" data-bs-toggle="collapse" data-bs-target="#id${t.id}" aria-expanded="false" aria-controls="collapseOne">\n              <i class="fas fa-eye"></i>\n              </button>\n              <button data-id="${t.id}" class="btn btn-info position-absolute bottom-0 end-0 addProductToCart">\n              <i class="fas fa-shopping-cart"></i>\n                ADD TO CART\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div id="id${t.id}" class="w-100 accordion-collapse collapse" data-bs-parent="#accordionExample">\n          <div class="card mb-3">\n            <div class="row g-0">\n              <div class="col-md-4">\n                <img src="${t.image}" class="img-fluid rounded-start"/>\n              </div>\n              <div class="col-md-8">\n                <div class="card-body">\n                  <h5 class="card-title fw-bolder">${t.title}</h5>\n                  <h5 class="card-title">Category: ${t.category}</h5>\n                  <h5 class="card-title">$ ${t.price}</h5>\n                  <p class="card-text mt-3">${t.description}</p>\n                  <h5 class="card-title text-warning">\n                  ${[...Array(Math.floor(t.rating.rate)).keys()].map((t=>'<i class="fas fa-star"></i>')).join("")}<i class="fas fa-star-half"></i>\n                  </h5>\n                  <h5 class="card-title">Rated ${t.rating.count} times</h5>\n                  <p class="card-text">\n                    <small class="text-muted">Last updated 3 mins ago</small>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n            `)).join("")}render(t){this.selector.innerHTML=this.template(t)}}const e=new class extends class{constructor(t){this.url=`https://fakestoreapi.com/${t}`}getAll=async()=>{const t=await fetch(this.url);return await t.json()};getOne=async t=>{const e=await fetch(`${this.url}/${t}`);return await e.json()};getLimit=async t=>{const e=await fetch(`${this.url}?limit=${t}`);return await e.json()};sort=async t=>{const e=await fetch(`${this.url}?sort=${t}`);return await e.json()};add=async t=>{const e=await fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await e.json()};update=async(t,e)=>{const a=await fetch(`${this.url}/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await a.json()};remove=async t=>{const e=await fetch(`${this.url}/${t}`,{method:"DELETE"});return await e.json()}}{constructor(){super("products")}getCategories=async()=>{const t=await fetch(`${this.url}/categories`);return await t.json()};getCategoryProducts=async t=>{const e=await fetch(`${this.url}/category/${t}`);return await e.json()}};let a=await e.getAll();const n=await e.getCategories(),s=document.getElementById("allProducts"),r=document.getElementById("allCategories"),i=u(a,8,1);new t(s).render(i);let c=[...a];new class{constructor(t,e){this.selector=t,this.cb=e}template(t){return`<a data-value="" class="filterByCategory flex-sm-fill text-sm-center nav-link active" aria-current="page">All</a>\n    ${t.map((t=>`<a data-value="${t}" class="filterByCategory flex-sm-fill text-sm-center nav-link" aria-current="page">${t}</a>`)).join("")}\n    `}render(t){this.selector.innerHTML=this.template(t),this.cb()}}(r,(()=>{const e=document.querySelectorAll(".filterByCategory");e.forEach((n=>{n.addEventListener("click",(n=>{e.forEach((t=>{t.classList.remove("active")})),n.target.classList.add("active"),c=[...a],n.target.dataset.value&&(c=c.filter((t=>t.category==n.target.dataset.value)));new t(s).render(u(c,8,1))}))}))})).render(n);const l=document.getElementById("priceValue");document.getElementById("filterByPriceRange").addEventListener("input",(function(e){c=[...a],c=c.filter((t=>t.price<=e.target.value)),l.innerHTML=e.target.value;new t(s).render(c)}));const o=document.getElementById("pagination");let d=[...Array(Math.round(a.length/8)).keys()].map((t=>t+1));function u(t,e,a){const n=(a-1)*e;return t.slice(n,n+e)}new class{constructor(t){this.selector=t}template(t){return t.map((t=>`\n          <li class="page-item active" aria-current="page">\n            <span class="page-link">${t}</span>\n          </li>\n                `)).join("")}render(t){this.selector.innerHTML=this.template(t)}}(o).render(d),Array.from(o.children).forEach((e=>{e.addEventListener("click",(()=>{const n=u(a,8,e.children[0].innerHTML);new t(s).render(n)}))}));document.getElementById("searchProduct").addEventListener("input",(function(e){const a=e.target.value;let n=[...u(c,8,1)];n=n.filter((t=>t.title.toLowerCase().includes(a)));new t(s).render(n)}));document.querySelectorAll(".addProductToCart").forEach((t=>{t.addEventListener("click",(t=>{let e=[...a];e=e.find((e=>e.id==t.target.dataset.id)),e.QTY=1,e.totalPrice=e.price*e.QTY,localStorage.setItem(t.target.dataset.id,JSON.stringify(e))}))}));const g=document.getElementById("loginBtn");let h=sessionStorage.getItem("logedIn");h&&(g.innerHTML=`<i class="fas fa-user-alt"></i> ${h}`);
//# sourceMappingURL=index.bc3e787c.js.map
